import"./assets/modulepreload-polyfill-B5Qt9EMX.js";import{a}from"./assets/vendor-CNNbG8jS.js";const g="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2Y2IxMWQ4ZGE0NTZlOGI5OTIxM2EyNDk4ODM4OGQyNSIsIm5iZiI6MTcyODcyMDEzMC44MDY0Niwic3ViIjoiNjcwYTJiNDEzYmI0NTU3YzY2OWFmYzM5Iiwic2NvcGVzIjpbImFwaV9yZWFkIl0sInZlcnNpb24iOjF9.Pgojbxf9JKo_J1qf6Qmglon5qZgkr9wpZ4I978dGQU8";a.defaults.baseURL="https://api.themoviedb.org/3";a.defaults.headers.common.Authorization=g;const y=async(e="day")=>(await a.get(`/trending/movie/${e}`)).data;new URLSearchParams({query:"Deadpool",primary_release_year:2024,page:1});const u=async()=>{try{const t=(await a.get("/genre/movie/list")).data.genres;return new Map(t.map(n=>[n.id,n.name]))}catch(e){console.log(e)}},I=async e=>{try{const t=await u();return e.map(r=>t.get(r)||"Unknow genre")}catch(t){console.log(t)}},s=(e,t)=>Object.assign(document.createElement(e),t),N=({poster_path:e,title:t,genre_ids:n,release_date:r})=>{const o=s("li",{className:"card"}),m=s("img",{className:"card-poster",src:`https://image.tmdb.org/t/p/original/${e}`,width:200,height:300}),c=s("div",{className:"card-description"}),l=s("p",{className:"card-title",textContent:t}),i=s("p",{className:"card-description-element"});I(n).then(p=>{i.textContent=`${p.join(", ")} |`});const d=s("p",{className:"card-description-element",textContent:r.slice(0,4)});return c.append(i,d),o.append(m,l,c),o},h=document.querySelector("#searchForm"),w=document.querySelector("#catalog"),M=(e,t)=>{const n=document.createDocumentFragment();n.append(...e.map(N)),t.append(n)};h.addEventListener("submit",e=>{e.preventDefault()});(async()=>{try{const e=await y("day");console.log(e.results),M(e.results,w)}catch(e){console.log(e)}})();
//# sourceMappingURL=catalog.js.map
