import"./assets/modulepreload-polyfill-B5Qt9EMX.js";import{a as c}from"./assets/vendor-CNNbG8jS.js";const u="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2Y2IxMWQ4ZGE0NTZlOGI5OTIxM2EyNDk4ODM4OGQyNSIsIm5iZiI6MTcyODcyMDEzMC44MDY0Niwic3ViIjoiNjcwYTJiNDEzYmI0NTU3YzY2OWFmYzM5Iiwic2NvcGVzIjpbImFwaV9yZWFkIl0sInZlcnNpb24iOjF9.Pgojbxf9JKo_J1qf6Qmglon5qZgkr9wpZ4I978dGQU8";c.defaults.baseURL="https://api.themoviedb.org/3";c.defaults.headers.common.Authorization=u;const m=async(e="day")=>(await c.get(`/trending/movie/${e}`)).data;new URLSearchParams({query:"Deadpool",primary_release_year:2024,page:1});const y=async()=>{try{const t=(await c.get("/genre/movie/list")).data.genres;return new Map(t.map(n=>[n.id,n.name]))}catch(e){console.log(e)}},I=async e=>{try{const t=await y();return e.map(r=>t.get(r)||"Unknow genre")}catch(t){console.log(t)}},s=(e,t)=>Object.assign(document.createElement(e),t),N=({poster_path:e,title:t,genre_ids:n,release_date:r})=>{const a=s("li",{className:"card"}),i=s("img",{className:"card-poster",src:`https://image.tmdb.org/t/p/original/${e}`,width:200,height:300}),o=s("div",{className:"card-description"}),p=s("p",{className:"card-title",textContent:t}),l=s("p",{className:"card-description-element"});I(n).then(g=>{l.textContent=`${g.join(", ")} |`});const d=s("p",{className:"card-description-element",textContent:r.slice(0,4)});return o.append(l,d),a.append(i,p,o),a},h=document.querySelector("#searchForm"),w=document.querySelector("#catalog"),f=(e,t)=>{const n=document.createDocumentFragment();n.append(...e.map(N)),t.append(n)};h.addEventListener("submit",e=>{e.preventDefault()});const M=async()=>{try{const e=await m("day");console.log(e.results),f(e.results,w)}catch(e){console.log(e)}};M();document.querySelector("#catalog");document.querySelectorAll(".card");const O=20,b=async()=>{try{const t=(await m()).total_results,n=Math.ceil(t/O),r=7;let a;const i=o=>{if(o<1||o>n)return!1;a=o};console.log(n)}catch(e){console.log(e)}};b();
//# sourceMappingURL=catalog.js.map
