import"./assets/footer-DHKSWr6F.js";import"./assets/vendor-nSNXNpMc.js";document.addEventListener("DOMContentLoaded",()=>{const p=document.querySelector("#catalog"),m=document.querySelector("#genre-select"),d=document.querySelector("#load-more");let o=0;const s=6;let c=[],a=[];const h=["action","drama","comedy","horror","thriller"],f=()=>{const e=document.createElement("option");e.value="all",e.textContent="Genre",m.appendChild(e),h.forEach(t=>{const r=document.createElement("option");r.value=t,r.textContent=t.charAt(0).toUpperCase()+t.slice(1),m.appendChild(r)})},u=e=>{const t=document.createElement("span");return t.classList.add(`${e}-star`),t.innerHTML=e==="empty"?"&#9734;":"&#9733;",t},M=e=>{const t=document.createElement("div");t.classList.add("star-rating");const r=e/2,n=Math.floor(r),l=r%1>=.5?1:0,g=5-n-l;for(let i=0;i<n;i++)t.appendChild(u("full"));l&&t.appendChild(u("half"));for(let i=0;i<g;i++)t.appendChild(u("empty"));return t.outerHTML},y=(e,t)=>{const r=document.createDocumentFragment();e.forEach(n=>{const l=document.createElement("div");l.classList.add("film-card");const g=n.vote_average;l.innerHTML=`
                <img src="${n.poster||""}" alt="${n.title||""} poster" class="film-poster"/>
                <h3>${n.title||""}</h3>
                <p>Genre: ${Array.isArray(n.genres)&&n.genres.length>0?n.genres.join(", "):"N/A"}</p>
                <p>Year: ${n.year||""}</p>
                <p>${M(g)||""}</p>
            `,r.appendChild(l)}),t.append(r)},L=()=>{const e=JSON.parse(localStorage.getItem("myLibrary"))||[];return Array.isArray(e)?e:[]},v=()=>{if(c=L(),a=c,!Array.isArray(c)||c.length===0){console.warn("No movies found in library or library is not an array.");return}y(a.slice(0,s),p),o=Math.min(s,a.length),d.style.display=o>=a.length?"none":"block"};d.addEventListener("click",()=>{const e=a.slice(o,o+s);y(e,p),o+=e.length,d.style.display=o>=a.length?"none":"block"}),m.addEventListener("change",e=>{const t=e.target.value;a=c.filter(r=>t==="all"||r.genres.map(n=>n.toLowerCase()).includes(t)),y(a.slice(0,s),p),o=Math.min(s,a.length),d.style.display=o>=a.length?"none":"block"}),f(),v()});
//# sourceMappingURL=library.js.map
